<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü¶ñ BEEPER MINT MACHINE - x402 V2 Facilitator Preview</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #050505;
            color: #77FE80;
            font-family: 'Courier New', monospace;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 20px #77FE80;
            letter-spacing: 0.2em;
        }
        
        .subtitle {
            text-align: center;
            font-size: 0.9rem;
            color: #5DE066;
            margin-bottom: 30px;
        }
        
        .section {
            background: #0a140a;
            border: 2px solid #77FE8050;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .section h2 {
            color: #88FF99;
            font-size: 1.2rem;
            margin-bottom: 15px;
            border-bottom: 1px solid #77FE8030;
            padding-bottom: 10px;
            letter-spacing: 0.1em;
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .status-item {
            background: #050505;
            border: 1px solid #77FE8040;
            border-radius: 8px;
            padding: 15px;
        }
        
        .status-item .label {
            font-size: 0.75rem;
            color: #3a5a3a;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        
        .status-item .value {
            font-size: 1rem;
            word-break: break-all;
        }
        
        .status-item .value.success {
            color: #77FE80;
        }
        
        .status-item .value.error {
            color: #FF4444;
        }
        
        .status-item .value.pending {
            color: #FFAA00;
        }
        
        .flow-diagram {
            background: #050505;
            border: 1px solid #77FE8040;
            border-radius: 8px;
            padding: 20px;
        }
        
        .flow-step {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px dashed #77FE8020;
        }
        
        .flow-step:last-child {
            border-bottom: none;
        }
        
        .step-number {
            width: 32px;
            height: 32px;
            background: #77FE8020;
            border: 2px solid #77FE80;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .step-content {
            flex: 1;
        }
        
        .step-title {
            font-weight: bold;
            color: #88FF99;
        }
        
        .step-desc {
            font-size: 0.8rem;
            color: #5DE066;
            margin-top: 3px;
        }
        
        .step-status {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-left: 15px;
        }
        
        .step-status.ready {
            background: #77FE80;
            box-shadow: 0 0 10px #77FE80;
        }
        
        .step-status.pending {
            background: #FFAA00;
            animation: pulse 1s infinite;
        }
        
        .step-status.inactive {
            background: #3a5a3a;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .code-block {
            background: #000;
            border: 1px solid #77FE8040;
            border-radius: 8px;
            padding: 15px;
            font-size: 0.8rem;
            overflow-x: auto;
            margin-top: 10px;
        }
        
        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
        }
        
        .highlight {
            color: #00FFCC;
        }
        
        .purple {
            color: #8A63D2;
        }
        
        .orange {
            color: #FF8800;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(135deg, #77FE8020, #77FE8040);
            border: 2px solid #77FE80;
            color: #77FE80;
            font-family: inherit;
            font-size: 1rem;
            cursor: pointer;
            border-radius: 8px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: linear-gradient(135deg, #77FE8040, #77FE8060);
            box-shadow: 0 0 20px #77FE8050;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        
        .table th, .table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #77FE8020;
        }
        
        .table th {
            color: #5DE066;
            font-size: 0.75rem;
            text-transform: uppercase;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .badge.active {
            background: #77FE8020;
            color: #77FE80;
            border: 1px solid #77FE80;
        }
        
        .badge.deprecated {
            background: #FF444420;
            color: #FF4444;
            border: 1px solid #FF4444;
        }
        
        .links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        .links a {
            color: #00FFCC;
            text-decoration: none;
            padding: 8px 16px;
            border: 1px solid #00FFCC40;
            border-radius: 6px;
            transition: all 0.3s;
        }
        
        .links a:hover {
            background: #00FFCC20;
            border-color: #00FFCC;
        }
        
        .glyph {
            font-size: 1.5rem;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü¶ñ BEEPER MINT MACHINE</h1>
        <p class="subtitle">x402 V2 Facilitator ‚Ä¢ Base Network ‚Ä¢ December 18, 2025</p>
        
        <!-- CONTRACT INFO -->
        <div class="section">
            <h2>üìú CONTRACT INFORMATION</h2>
            <div class="status-grid">
                <div class="status-item">
                    <div class="label">BeeperNFT Contract</div>
                    <div class="value success">0x5eEe623ac2AD1F73AAE879b2f44C54b69116bFB9</div>
                </div>
                <div class="status-item">
                    <div class="label">VOT Token</div>
                    <div class="value success">0xc1e1E7aDfDf1553b339D8046704e8e37E2CA9B07</div>
                </div>
                <div class="status-item">
                    <div class="label">Network</div>
                    <div class="value success">Base Mainnet (8453)</div>
                </div>
                <div class="status-item">
                    <div class="label">Standard</div>
                    <div class="value success">ERC-1155</div>
                </div>
            </div>
            <div class="links">
                <a href="https://basescan.org/address/0x5eEe623ac2AD1F73AAE879b2f44C54b69116bFB9" target="_blank">üìä BaseScan</a>
                <a href="https://opensea.io/collection/beeper-nft" target="_blank">üåä OpenSea</a>
                <a href="https://mcpvot.xyz/beeper" target="_blank">üåê Mint Page</a>
            </div>
        </div>
        
        <!-- ACTIVE COMPONENT -->
        <div class="section">
            <h2>üéØ ACTIVE COMPONENT</h2>
            <table class="table">
                <tr>
                    <th>Component</th>
                    <th>File</th>
                    <th>Status</th>
                    <th>Used By</th>
                </tr>
                <tr>
                    <td><span class="glyph">‚úÖ</span> BeeperMintCardV2</td>
                    <td><code>components/beeper/BeeperMintCardV2.tsx</code></td>
                    <td><span class="badge active">PRODUCTION</span></td>
                    <td>/beeper page, Dashboard</td>
                </tr>
                <tr>
                    <td><span class="glyph">‚ö†Ô∏è</span> BeeperMintCard</td>
                    <td><code>components/beeper/BeeperMintCard.tsx</code></td>
                    <td><span class="badge deprecated">DEPRECATED</span></td>
                    <td>Legacy wrapper</td>
                </tr>
                <tr>
                    <td><span class="glyph">‚ö†Ô∏è</span> BeeperMintMachine</td>
                    <td><code>components/beeper/BeeperMintMachine.tsx</code></td>
                    <td><span class="badge deprecated">DEPRECATED</span></td>
                    <td>Legacy (used by BeeperMintCard)</td>
                </tr>
            </table>
        </div>
        
        <!-- MINT FLOW -->
        <div class="section">
            <h2>‚ö° MINT FLOW (x402 V2 Facilitator)</h2>
            <div class="flow-diagram">
                <div class="flow-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-title">Connect Wallet</div>
                        <div class="step-desc">Farcaster MiniApp / WalletConnect / Coinbase Wallet / MetaMask</div>
                    </div>
                    <div class="step-status ready"></div>
                </div>
                <div class="flow-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <div class="step-title">Fetch Identity</div>
                        <div class="step-desc">ENS Name + Basename + Farcaster (@username, FID, PFP)</div>
                    </div>
                    <div class="step-status ready"></div>
                </div>
                <div class="flow-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <div class="step-title">VRF Rarity Roll</div>
                        <div class="step-desc">10-tier rarity: x402 (0.05%) ‚Üí NODE (45%)</div>
                    </div>
                    <div class="step-status ready"></div>
                </div>
                <div class="flow-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <div class="step-title">AI Tagline (OpenRouter)</div>
                        <div class="step-desc">Free models: deepseek-v3.1-nex-n1, devstral-2512, kat-coder-pro</div>
                    </div>
                    <div class="step-status ready"></div>
                </div>
                <div class="flow-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <div class="step-title">Generate SVG Banner</div>
                        <div class="step-desc">900x240 animated banner with identity + rarity + VOT branding</div>
                    </div>
                    <div class="step-status ready"></div>
                </div>
                <div class="flow-step">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <div class="step-title">Pin to IPFS (Pinata)</div>
                        <div class="step-desc">SVG + OpenSea-compatible metadata JSON</div>
                    </div>
                    <div class="step-status ready"></div>
                </div>
                <div class="flow-step">
                    <div class="step-number">7</div>
                    <div class="step-content">
                        <div class="step-title">Mint ERC-1155 on Base</div>
                        <div class="step-desc">x402 V2 Facilitator calls mint() with MintParams struct</div>
                    </div>
                    <div class="step-status ready"></div>
                </div>
                <div class="flow-step">
                    <div class="step-number">8</div>
                    <div class="step-content">
                        <div class="step-title">Send 69,420 VOT</div>
                        <div class="step-desc">Facilitator transfers VOT to minter (NO BURN for promo)</div>
                    </div>
                    <div class="step-status ready"></div>
                </div>
                <div class="flow-step">
                    <div class="step-number">9</div>
                    <div class="step-content">
                        <div class="step-title">FIP-2 Share Bonus</div>
                        <div class="step-desc">Share to Farcaster +5K VOT, Follow @mcpvot +5K VOT</div>
                    </div>
                    <div class="step-status ready"></div>
                </div>
            </div>
        </div>
        
        <!-- RARITY TIERS -->
        <div class="section">
            <h2>üé≤ VRF RARITY TIERS</h2>
            <table class="table">
                <tr>
                    <th>Tier</th>
                    <th>Glyph</th>
                    <th>Name</th>
                    <th>Chance</th>
                    <th>Threshold</th>
                </tr>
                <tr><td>10</td><td>íàó</td><td class="orange">x402 LEGENDARY</td><td>0.05%</td><td>&lt; 50</td></tr>
                <tr><td>9</td><td>íÜ∑</td><td class="highlight">GM</td><td>0.15%</td><td>&lt; 200</td></tr>
                <tr><td>8</td><td>íÄØ</td><td class="highlight">FOMO</td><td>0.30%</td><td>&lt; 500</td></tr>
                <tr><td>7</td><td>íåã</td><td class="highlight">ZZZ</td><td>0.50%</td><td>&lt; 1,000</td></tr>
                <tr><td>6</td><td>íÜ≥</td><td class="purple">GENESIS</td><td>2.00%</td><td>&lt; 3,000</td></tr>
                <tr><td>5</td><td>íÄ≠</td><td class="purple">OG</td><td>4.00%</td><td>&lt; 7,000</td></tr>
                <tr><td>4</td><td>íÑ†</td><td>WHALE</td><td>8.00%</td><td>&lt; 15,000</td></tr>
                <tr><td>3</td><td>íãº</td><td>STAKER</td><td>15.00%</td><td>&lt; 30,000</td></tr>
                <tr><td>2</td><td>íÅπ</td><td>VALIDATOR</td><td>25.00%</td><td>&lt; 55,000</td></tr>
                <tr><td>1</td><td>íáª</td><td>NODE</td><td>45.00%</td><td>&lt; 100,000</td></tr>
            </table>
        </div>
        
        <!-- KEY FILES -->
        <div class="section">
            <h2>üìÅ KEY FILES</h2>
            <div class="code-block">
                <pre>
<span class="highlight">ACTIVE PRODUCTION FILES:</span>
‚îú‚îÄ‚îÄ src/components/beeper/
‚îÇ   ‚îî‚îÄ‚îÄ <span class="highlight">BeeperMintCardV2.tsx</span>  ‚Üê MAIN UI COMPONENT (1,219 lines)
‚îÇ
‚îú‚îÄ‚îÄ src/app/beeper/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx              ‚Üê Mint page (uses BeeperMintCardV2)
‚îÇ
‚îú‚îÄ‚îÄ src/app/api/beeper/
‚îÇ   ‚îú‚îÄ‚îÄ mint/route.ts         ‚Üê Mint API endpoint
‚îÇ   ‚îú‚îÄ‚îÄ nft/[tokenId]/route.ts‚Üê NFT metadata API
‚îÇ   ‚îú‚îÄ‚îÄ queue/route.ts        ‚Üê Mint queue status
‚îÇ   ‚îî‚îÄ‚îÄ claim-share-bonus/route.ts ‚Üê FIP-2 bonus claim
‚îÇ
‚îú‚îÄ‚îÄ src/lib/beeper/
‚îÇ   ‚îú‚îÄ‚îÄ <span class="highlight">x402-facilitator.ts</span>   ‚Üê x402 V2 Facilitator (VOT + NFT mint)
‚îÇ   ‚îú‚îÄ‚îÄ banner-generator-v3.ts‚Üê SVG banner generation
‚îÇ   ‚îú‚îÄ‚îÄ banner-generator.ts   ‚Üê Metadata generation
‚îÇ   ‚îî‚îÄ‚îÄ identity-service.ts   ‚Üê ENS/Basename/Farcaster fetch

<span class="orange">DEPRECATED (DO NOT USE):</span>
‚îú‚îÄ‚îÄ src/components/beeper/
‚îÇ   ‚îú‚îÄ‚îÄ BeeperMintCard.tsx    ‚Üê OLD wrapper (uses BeeperMintMachine)
‚îÇ   ‚îî‚îÄ‚îÄ BeeperMintMachine.tsx ‚Üê OLD component
                </pre>
            </div>
        </div>
        
        <!-- API ENDPOINTS -->
        <div class="section">
            <h2>üîå API ENDPOINTS</h2>
            <table class="table">
                <tr>
                    <th>Method</th>
                    <th>Endpoint</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><span class="badge active">POST</span></td>
                    <td><code>/api/beeper/mint</code></td>
                    <td>Execute full mint flow</td>
                </tr>
                <tr>
                    <td><span class="badge active">GET</span></td>
                    <td><code>/api/beeper/mint?action=stats</code></td>
                    <td>Get mint stats (price, rewards, supply)</td>
                </tr>
                <tr>
                    <td><span class="badge active">GET</span></td>
                    <td><code>/api/beeper/nft/{tokenId}</code></td>
                    <td>Get NFT metadata from chain/IPFS</td>
                </tr>
                <tr>
                    <td><span class="badge active">POST</span></td>
                    <td><code>/api/beeper/claim-share-bonus</code></td>
                    <td>Claim FIP-2 share/follow bonus</td>
                </tr>
                <tr>
                    <td><span class="badge active">GET</span></td>
                    <td><code>/api/opensea?action=nft&tokenId=X</code></td>
                    <td>Get NFT from OpenSea API</td>
                </tr>
                <tr>
                    <td><span class="badge active">POST</span></td>
                    <td><code>/api/opensea</code></td>
                    <td>Refresh NFT metadata on OpenSea</td>
                </tr>
            </table>
        </div>
        
        <!-- MINT REWARDS -->
        <div class="section">
            <h2>üí∞ MINT REWARDS</h2>
            <div class="status-grid">
                <div class="status-item">
                    <div class="label">Mint Price</div>
                    <div class="value highlight">$0.25 USDC</div>
                </div>
                <div class="status-item">
                    <div class="label">VOT Reward</div>
                    <div class="value success">69,420 VOT</div>
                </div>
                <div class="status-item">
                    <div class="label">Share Bonus</div>
                    <div class="value purple">+5,000 VOT</div>
                </div>
                <div class="status-item">
                    <div class="label">Follow Bonus</div>
                    <div class="value purple">+5,000 VOT</div>
                </div>
                <div class="status-item">
                    <div class="label">Max Total</div>
                    <div class="value orange">79,420 VOT</div>
                </div>
                <div class="status-item">
                    <div class="label">VOT Burn</div>
                    <div class="value success">0% (PROMO)</div>
                </div>
            </div>
        </div>
        
        <!-- ENVIRONMENT VARIABLES -->
        <div class="section">
            <h2>üîê REQUIRED ENV VARIABLES</h2>
            <div class="code-block">
                <pre>
# Contract
NEXT_PUBLIC_BEEPER_CONTRACT=0x5eEe623ac2AD1F73AAE879b2f44C54b69116bFB9
NEXT_PUBLIC_VOT_TOKEN=0xc1e1E7aDfDf1553b339D8046704e8e37E2CA9B07

# x402 V2 Facilitator
BEEPER_FACILITATOR_PRIVATE_KEY=0x...  # Wallet authorized as contract facilitator
BASE_RPC_URL=https://mainnet.base.org

# IPFS (Pinata)
PINATA_API_KEY=...
PINATA_SECRET_KEY=...

# AI (OpenRouter)
OPENROUTER_API_KEY=sk-or-v1-...
OPENROUTER_MODEL=nex-agi/deepseek-v3.1-nex-n1:free

# OpenSea API
OPENSEA_API_KEY=69e71cf44d0c41bcab66d69145525930
                </pre>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 30px; padding: 20px; border-top: 1px solid #77FE8030;">
            <p style="color: #3a5a3a; font-size: 0.8rem;">
                MCPVOT Ecosystem ‚Ä¢ x402 V2 Protocol ‚Ä¢ Base Network<br>
                Generated: December 18, 2025
            </p>
        </div>
    </div>
</body>
</html>
